CREATE TABLE student_tbl_03(
	sno	varchar2(6)not null,
	sname	varchar2(10),
	sphone	varchar2(15),
	sgender	varchar2(4),
	saddress	varchar2(40),
	primary key(sno)
);

insert into student_tbl_03 values( '10101' , '김행복' , '010-1111-2222','M','서울 동대문구 휘경1동');
insert into student_tbl_03 values( '10102' , '이축복' , '010-1111-3333','F','서울 동대문구 휘경2동');
insert into student_tbl_03 values( '10103' , '장믿음' , '010-1111-4444','M','울릉군 울릉읍 독도 1리');
insert into student_tbl_03 values( '10104' , '최사랑' , '010-1111-5555','F','울릉군 울릉읍 독도 2리');
insert into student_tbl_03 values( '10105' , '진평화' , '010-1111-6666','M','제주도 제주시 외나무골');
insert into student_tbl_03 values( '10106' , '차공단' , '010-1111-7777','M','제주도 제주시 감나무골');
drop table student_tbl_03;

select * from student_tbl_03 ;

commit

set linesize500

create table exam_tbl_03(
   sno varchar2(6) not null ,
   ekor number(4),
   emath number(4),
   eeng number(4),
   ehist number(4),
   primary key( sno )
);

insert into exam_tbl_03 values( '10101' , 98 , 91 , 95 , 90 );
insert into exam_tbl_03 values( '10102' , 87 , 89 , 92 , 82 );
select * from exam_tbl_03 ;


select * from 테이블명 A nature join 테이블명B
select * from 테이블명 A join 테이블명B on 조인 조건
select * from 테이블명 A inner join 테이블명B on 조인 조건
select * from 테이블명 A , 테이블명B where a.sno = b.sno


---------------------------------------------------------------

select * from 테이블명 A FULL OUTER JOIN 테이블B on 조인 조건
select * from 테이블명 A LEFT OUTER JOIN 테이블B on 조인 조건
select * from 테이블명 A RIGHT OUTER JOIN 테이블B on 조인 조건


---------------------------------------------------------------------
select substr(필드명,시작번호 ,개수) 
select substr(A.sno,1,1) 학년 //10101-> 1 

----------------------------------------------------
평균
(필드+필드)/2 
(필드+필드) 합계
-----------------------------------------------------
순위
rank() over(order by 필드명 desc or asc)
-----------------------------------------------------
NVL(필드명,교체할 값)

select substr(s.sno,1,1)학년 , substr(s.sno,2,2)반, substr(s.sno,4,5)번호 , s.sname, e.ekor, e.emath, e.eeng, e.ehist , 
( e.ekor + e.emath + e.eeng+ e.ehist ) 합계, ( e.ekor + e.emath + e.eeng+ e.ehist )/4 평균, 
rank() over(order by ( NVL(e.ekor,0) +NVL( e.emath,0) + NVL(e.eeng,0) + NVL(e.ehist ,0 )  ) desc ) 순위
from exam_tbl_03 e RIGHT OUTER JOIN  student_tbl_03 s 
on e.sno = s.sno
order by ( NVL(e.ekor,0) +NVL( e.emath,0) + NVL(e.eeng,0) + NVL(e.ehist ,0 )  ) desc;

